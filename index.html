<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>–í–æ–ª—à–µ–±–Ω–∞—è –ö–Ω–∏–≥–∞ –ö–æ—Ç–∏–∫–æ–≤ –õ—é–±–≤–∏ üíï</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&family=Grandstander:wght@400;600;700&family=Caveat:wght@400;600;700&display=swap');
        
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }

        body {
          font-family: 'Fredoka', sans-serif;
          overflow-x: hidden;
        }

        .container {
          position: relative;
          min-height: 100vh;
          min-height: 100dvh; /* Dynamic viewport height for mobile */
          overflow: hidden;
          background: linear-gradient(to bottom right, #fce7f3, #f3e8ff, #dbeafe);
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 1rem;
          padding-bottom: max(1rem, env(safe-area-inset-bottom)); /* Safe area for mobile notches/bars */
        }

        .float-element {
          animation: floatUp linear forwards;
          pointer-events: none;
          position: absolute;
          font-size: 1.5rem;
        }

        @keyframes floatUp {
          0% { 
            opacity: 0;
            transform: translateY(100vh);
          }
          10% {
            opacity: 1;
          }
          90% {
            opacity: 1;
          }
          100% { 
            opacity: 0;
            transform: translateY(-20vh) rotate(360deg);
          }
        }

        .flying-heart {
          position: fixed;
          font-size: 2.5rem;
          pointer-events: none;
          z-index: 50;
          opacity: 0;
          animation: heartFly 2s ease-out forwards;
        }

        @keyframes heartFly {
          0% { 
            opacity: 0;
            transform: translateY(100vh) scale(0);
          }
          20% {
            opacity: 1;
          }
          80% {
            opacity: 1;
          }
          100% { 
            opacity: 0;
            transform: translateY(-50vh) scale(1.5) rotate(360deg);
          }
        }

        .confetti {
          position: fixed;
          width: 10px;
          height: 10px;
          z-index: 100;
          animation: confettiFall 3s ease-out forwards;
        }

        @keyframes confettiFall {
          0% { 
            transform: translateY(-100px) rotate(0deg);
            opacity: 1;
          }
          100% { 
            transform: translateY(100vh) rotate(720deg);
            opacity: 0;
          }
        }

        .main-content {
          position: relative;
          z-index: 10;
          width: 100%;
          max-width: 56rem;
          display: flex;
          flex-direction: column;
          gap: 1rem;
        }

        .page-counter {
          text-align: center;
          margin-bottom: 1.5rem;
        }

        .counter-badge {
          display: inline-flex;
          align-items: center;
          gap: 0.75rem;
          background: rgba(255, 255, 255, 0.8);
          backdrop-filter: blur(12px);
          padding: 0.75rem 1.5rem;
          border-radius: 9999px;
          border: 4px solid #fbcfe8;
        }

        .counter-text {
          font-family: 'Grandstander', cursive;
          font-size: 1.125rem;
          font-weight: bold;
          color: #7e22ce;
        }

        .book-container {
          perspective: 2000px;
        }

        .book {
          transform-style: preserve-3d;
          transition: transform 0.6s cubic-bezier(0.645, 0.045, 0.355, 1);
          touch-action: pan-y pinch-zoom;
          user-select: none;
        }

        .book.flipping-next {
          animation: flipNext3D 0.6s ease-in-out;
        }

        .book.flipping-prev {
          animation: flipPrev3D 0.6s ease-in-out;
        }

        @keyframes flipNext3D {
          0% { transform: rotateY(0deg) scale(1); }
          25% { transform: rotateY(-5deg) scale(1.02); }
          50% { transform: rotateY(-15deg) scale(1.05) translateZ(50px); }
          75% { transform: rotateY(-5deg) scale(1.02); }
          100% { transform: rotateY(0deg) scale(1); }
        }

        @keyframes flipPrev3D {
          0% { transform: rotateY(0deg) scale(1); }
          25% { transform: rotateY(5deg) scale(1.02); }
          50% { transform: rotateY(15deg) scale(1.05) translateZ(50px); }
          75% { transform: rotateY(5deg) scale(1.02); }
          100% { transform: rotateY(0deg) scale(1); }
        }

        .page-enter {
          animation: pageEnter 0.6s ease-out;
        }

        @keyframes pageEnter {
          0% { 
            opacity: 0;
            transform: scale(0.95);
          }
          100% { 
            opacity: 1;
            transform: scale(1);
          }
        }

        .page {
          border-radius: 1.5rem;
          padding: 3rem;
          min-height: 600px;
          display: flex;
          flex-direction: column;
          justify-content: space-between;
          box-shadow: 
            0 20px 60px rgba(0, 0, 0, 0.3),
            0 10px 30px rgba(139, 92, 246, 0.2),
            inset 0 0 0 2px rgba(255, 255, 255, 0.5);
        }

        .floating {
          animation: float 4s ease-in-out infinite;
        }

        @keyframes float {
          0%, 100% { transform: translateY(0px) rotate(0deg); }
          50% { transform: translateY(-15px) rotate(5deg); }
        }

        .cat-hover {
          cursor: pointer;
          transition: all 0.3s ease;
        }

        .cat-hover:hover {
          animation: catWiggle 0.5s ease-in-out;
          filter: hue-rotate(30deg) brightness(1.2);
        }

        @keyframes catWiggle {
          0%, 100% { transform: rotate(0deg); }
          25% { transform: rotate(-10deg) scale(1.1); }
          75% { transform: rotate(10deg) scale(1.1); }
        }

        .sparkle {
          animation: sparkle 2s ease-in-out infinite;
        }

        @keyframes sparkle {
          0%, 100% { opacity: 0.4; transform: scale(0.8) rotate(0deg); }
          50% { opacity: 1; transform: scale(1.2) rotate(180deg); }
        }

        .gradient-text {
          background: linear-gradient(45deg, #FF6B9D, #C06C84, #A8E6CF, #FFD93D);
          background-size: 300% 300%;
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          animation: gradientShift 3s ease infinite;
        }

        @keyframes gradientShift {
          0%, 100% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
        }

        .pulse-soft {
          animation: pulseSoft 2s ease-in-out infinite;
        }

        @keyframes pulseSoft {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.05); }
        }

        .nav-buttons {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-top: 2rem;
          padding: 0 0.5rem;
        }

        .nav-button {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          padding: 0.75rem 1.5rem;
          background: white;
          border-radius: 9999px;
          font-family: 'Grandstander', cursive;
          font-weight: bold;
          font-size: 1.125rem;
          color: #7e22ce;
          border: none;
          cursor: pointer;
          transition: all 0.3s ease;
        }

        .nav-button:hover:not(:disabled) {
          transform: scale(1.1);
          background: #faf5ff;
        }

        .nav-button:active:not(:disabled) {
          transform: scale(0.95);
        }

        .nav-button:disabled {
          opacity: 0.3;
          cursor: not-allowed;
        }

        .progress-dots {
          display: flex;
          gap: 0.5rem;
        }

        .dot {
          width: 0.5rem;
          height: 0.5rem;
          border-radius: 9999px;
          background: #d8b4fe;
          transition: all 0.3s ease;
        }

        .dot.active {
          background: #a855f7;
          width: 2rem;
        }

        .hint {
          text-align: center;
          margin-top: 1.5rem;
          font-family: 'Fredoka', sans-serif;
          color: #7e22ce;
          font-size: 0.875rem;
          animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
          0%, 100% { opacity: 1; }
          50% { opacity: 0.5; }
        }

        /* Page specific styles */
        .cover-page {
          text-align: center;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 100%;
        }

        .cover-emoji {
          font-size: 5rem;
          margin-bottom: 1.5rem;
        }

        .cover-title {
          font-family: 'Grandstander', cursive;
          font-size: 3.75rem;
          font-weight: bold;
          margin-bottom: 1rem;
        }

        .cover-subtitle {
          font-family: 'Grandstander', cursive;
          font-size: 2.25rem;
          font-weight: bold;
          margin-bottom: 2rem;
        }

        .cover-decoration {
          font-size: 2.25rem;
          margin-bottom: 2rem;
        }

        .cover-text {
          font-family: 'Fredoka', sans-serif;
          font-size: 1.25rem;
          color: #7e22ce;
          max-width: 28rem;
        }

        .open-button {
          margin-top: 3rem;
          padding: 1rem 2rem;
          background: white;
          border-radius: 9999px;
          font-family: 'Grandstander', cursive;
          font-weight: bold;
          font-size: 1.25rem;
          color: #7e22ce;
          border: none;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          transition: all 0.3s ease;
        }

        .open-button:hover {
          background: #faf5ff;
        }

        .cat-page {
          height: 100%;
          display: flex;
          flex-direction: column;
        }

        .cat-header {
          text-align: center;
          margin-bottom: 1.5rem;
        }

        .cat-emoji {
          font-size: 4.5rem;
          margin-bottom: 1rem;
        }

        .cat-title {
          font-family: 'Grandstander', cursive;
          font-size: 2.25rem;
          font-weight: bold;
          margin-bottom: 0.5rem;
          color: #6b21a8;
          text-shadow: 2px 2px 4px rgba(255,255,255,0.8);
        }

        .cat-subtitle {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 0.5rem;
        }

        .cat-subtitle-text {
          font-family: 'Fredoka', sans-serif;
          color: #6b21a8;
          font-size: 0.875rem;
          font-weight: 600;
        }

        .sparkle-icon {
          color: #7e22ce;
          width: 1.25rem;
          height: 1.25rem;
        }

        .message-box {
          background: rgba(255, 255, 255, 0.6);
          backdrop-filter: blur(8px);
          border-radius: 1rem;
          padding: 1.5rem;
          border: 2px solid white;
          flex: 1;
        }

        .message-text {
          font-family: 'Fredoka', sans-serif;
          font-size: 1.125rem;
          line-height: 1.75;
          color: #1f2937;
          white-space: pre-line;
        }

        .paw-prints {
          display: flex;
          justify-content: center;
          gap: 0.75rem;
          margin-top: 1.5rem;
          font-size: 1.5rem;
          opacity: 0.5;
        }

        .ending-page {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 100%;
          text-align: center;
        }

        .ending-emoji {
          font-size: 3.75rem;
          margin-bottom: 1.5rem;
        }

        .ending-title {
          font-family: 'Grandstander', cursive;
          font-size: 3rem;
          font-weight: bold;
          margin-bottom: 1rem;
        }

        .ending-subtitle {
          font-family: 'Grandstander', cursive;
          font-size: 1.875rem;
          font-weight: bold;
          color: #7e22ce;
          margin-bottom: 2rem;
        }

        .ending-message {
          background: rgba(255, 255, 255, 0.6);
          backdrop-filter: blur(8px);
          border-radius: 1rem;
          padding: 2rem;
          border: 2px solid white;
          max-width: 42rem;
          margin-bottom: 2rem;
        }

        .ending-text {
          font-family: 'Caveat', cursive;
          font-size: 1.5rem;
          line-height: 1.75;
          color: #1f2937;
          white-space: pre-line;
        }

        .ending-cats {
          display: flex;
          gap: 0.75rem;
          font-size: 2.25rem;
        }

        @media (max-width: 768px) {
          .container {
            padding: 0.5rem;
            padding-bottom: max(1.5rem, calc(env(safe-area-inset-bottom) + 1rem));
          }

          .main-content {
            gap: 0.75rem;
            padding: 0 0.25rem;
          }

          .page {
            padding: 2rem 1.5rem;
            min-height: 500px;
          }

          .cover-title {
            font-size: 2.5rem;
          }

          .cover-subtitle {
            font-size: 1.75rem;
          }

          .cat-emoji {
            font-size: 3.5rem;
          }

          .cat-title {
            font-size: 1.75rem;
          }

          .message-text {
            font-size: 1rem;
          }

          .nav-buttons {
            margin-top: 1rem;
            padding: 0 0.25rem 0.5rem 0.25rem;
            gap: 0.25rem;
          }

          .nav-button {
            padding: 0.4rem 0.75rem;
            font-size: 0.8rem;
            flex-shrink: 0;
          }

          .nav-button svg {
            width: 16px;
            height: 16px;
          }

          .progress-dots {
            gap: 0.25rem;
            flex-shrink: 1;
            overflow: hidden;
            justify-content: center;
          }

          .dot {
            width: 0.35rem;
            height: 0.35rem;
            flex-shrink: 0;
          }

          .dot.active {
            width: 1.25rem;
          }

          .page-counter {
            margin-bottom: 1rem;
          }

          .counter-badge {
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
          }

          .counter-badge svg {
            width: 18px;
            height: 18px;
          }

          .hint {
            margin-top: 1rem;
            margin-bottom: 0.5rem;
            font-size: 0.75rem;
          }
        }
    </style>
</head>
<body>
    <div class="container" id="container">
        <!-- Floating elements will be added here -->
        
        <div class="main-content">
            <!-- Page Counter -->
            <div class="page-counter">
                <div class="counter-badge">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#a855f7" stroke-width="2">
                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                    </svg>
                    <span class="counter-text" id="pageCounter">–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1 –∏–∑ 13</span>
                </div>
            </div>

            <!-- Book -->
            <div class="book-container">
                <div class="book" id="book">
                    <div class="page page-enter" id="pageContent">
                        <!-- Page content will be inserted here -->
                    </div>
                </div>
            </div>

            <!-- Navigation -->
            <div class="nav-buttons">
                <button class="nav-button" id="prevBtn" disabled>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15 18 9 12 15 6"></polyline>
                    </svg>
                    –ù–∞–∑–∞–¥
                </button>

                <div class="progress-dots" id="progressDots">
                    <!-- Dots will be added here -->
                </div>

                <button class="nav-button" id="nextBtn">
                    –î–∞–ª–µ–µ
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                </button>
            </div>

            <!-- Hint -->
            <div class="hint" id="hint">
                üí° –°–≤–∞–π–ø–∞–π –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ –∏–ª–∏ –∂–º–∏ –∫–Ω–æ–ø–∫–∏!
            </div>
        </div>
    </div>

    <script>
        const pages = [
            {
                id: 0,
                type: 'cover',
                title: '–í–æ–ª—à–µ–±–Ω–∞—è –ö–Ω–∏–≥–∞',
                subtitle: '–ö–æ—Ç–∏–∫–æ–≤ –õ—é–±–≤–∏',
                emoji: 'üìñ',
                bgGradient: 'linear-gradient(to bottom right, #fbcfe8, #ddd6fe, #bfdbfe)',
                decoration: '‚ú®üíï‚ú®'
            },
            {
                id: 1,
                catName: '–ú—É—Ä–∑–∏–∫',
                catEmoji: 'üò∫',
                bgGradient: 'linear-gradient(to bottom right, #fce7f3, #f3e8ff)',
                title: '–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –æ—Ç –ú—É—Ä–∑–∏–∫–∞',
                message: '–ü—Ä–∏–≤–µ—Ç, –ª—é–±–æ–≤—å –º–æ—è! üíï\n\n–Ø –ú—É—Ä–∑–∏–∫, –∏ —è —Ä–∞–¥ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–µ–±—è –≤ —ç—Ç–æ–π –≤–æ–ª—à–µ–±–Ω–æ–π –∫–Ω–∏–≥–µ! –ó–¥–µ—Å—å –∫–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ - —ç—Ç–æ –º–∞–ª–µ–Ω—å–∫–∞—è –∏—Å—Ç–æ—Ä–∏—è –æ —Ç–æ–º, –∫–∞–∫ —Å–∏–ª—å–Ω–æ —Ç—ã –ª—é–±–∏–º–∞.\n\n–õ–∏—Å—Ç–∞–π –¥–∞–ª—å—à–µ –∏ –≤—Å—Ç—Ä–µ—á–∞–π –º–æ–∏—Ö –¥—Ä—É–∑–µ–π-–∫–æ—Ç–∏–∫–æ–≤ - –∫–∞–∂–¥—ã–π –∏–∑ –Ω–∏—Ö –ø—Ä–∏–≥–æ—Ç–æ–≤–∏–ª –¥–ª—è —Ç–µ–±—è –æ—Å–æ–±–µ–Ω–Ω–æ–µ –ø–æ—Å–ª–∞–Ω–∏–µ!\n\n–ú—É—Ä-–º—É—Ä! üê±'
            },
            {
                id: 2,
                catName: '–ü—É—à–æ–∫',
                catEmoji: 'üòª',
                bgGradient: 'linear-gradient(to bottom right, #fef3c7, #fed7aa)',
                title: '–¢—ë–ø–ª—ã–µ –æ–±—ä—è—Ç–∏—è –ü—É—à–∫–∞',
                message: '–ú—É—Ä-–º—É—Ä! –Ø –ü—É—à–æ–∫! ‚òÄÔ∏è\n\n–ó–Ω–∞–µ—à—å, —á—Ç–æ —Å–∞–º–æ–µ –º—è–≥–∫–æ–µ –Ω–∞ —Å–≤–µ—Ç–µ? –ú–æ—è –ø—É—à–∏—Å—Ç–∞—è —à—ë—Ä—Å—Ç–∫–∞! –ù–æ –∑–Ω–∞–µ—à—å, —á—Ç–æ –µ—â—ë –º—è–≥—á–µ? –¢–≤–æ—è —É–ª—ã–±–∫–∞, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–≥—Ä–µ–≤–∞–µ—Ç –º–æ—ë —Å–µ—Ä–¥–µ—á–∫–æ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å!\n\n–¢—ã —Ç–∞–∫–∞—è —Ç—ë–ø–ª–∞—è –∏ –¥–æ–±—Ä–∞—è, –ø—Ä—è–º –∫–∞–∫ —Å–æ–ª–Ω—ã—à–∫–æ! –ö–æ–≥–¥–∞ —Ç—ã —Ä—è–¥–æ–º, –≤–µ—Å—å –º–∏—Ä —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —É—é—Ç–Ω–µ–µ –∏ —Å–≤–µ—Ç–ª–µ–µ.\n\n–û–±–Ω–∏–º–∞—é —Ç–µ–±—è —Å–≤–æ–∏–º–∏ –º—è–≥–∫–∏–º–∏ –ª–∞–ø–∫–∞–º–∏! ü§ó'
            },
            {
                id: 3,
                catName: '–°–Ω–µ–∂–æ–∫',
                catEmoji: 'üòΩ',
                bgGradient: 'linear-gradient(to bottom right, #dbeafe, #cffafe)',
                title: '–û–±–ª–∞—á–∫–æ –°–Ω–µ–∂–∫–∞',
                message: '–ú—è—É! –°–Ω–µ–∂–æ–∫ —Ç—É—Ç! ‚òÅÔ∏è\n\n–Ø –±–µ–ª—ã–π –∏ –ø—É—à–∏—Å—Ç—ã–π, –∫–∞–∫ –æ–±–ª–∞—á–∫–æ! –ê —Ç—ã –∑–Ω–∞–µ—à—å, —á—Ç–æ –µ—â—ë –±–µ–ª–æ–µ –∏ —á–∏—Å—Ç–æ–µ? –ù–∞—à–∞ –ª—é–±–æ–≤—å!\n\n–î–∞–∂–µ –∫–æ–≥–¥–∞ –º–µ–∂–¥—É –Ω–∞–º–∏ –∫–∏–ª–æ–º–µ—Ç—Ä—ã, –º–æ—ë —Å–µ—Ä–¥–µ—á–∫–æ –∑–Ω–∞–µ—Ç –¥–æ—Ä–æ–≥—É –∫ —Ç–µ–±–µ. –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Ü–∏—Ñ—Ä—ã, –∞ –ª—é–±–æ–≤—å - —ç—Ç–æ —Ç–æ, —á—Ç–æ —Å–≤—è–∑—ã–≤–∞–µ—Ç –Ω–∞—Å –Ω–∞–≤—Å–µ–≥–¥–∞.\n\n–¢—ã –º–æ—ë –º–∞–ª–µ–Ω—å–∫–æ–µ —á—É–¥–æ! üíô'
            },
            {
                id: 4,
                catName: '–†—ã–∂–∏–∫',
                catEmoji: 'üò∏',
                bgGradient: 'linear-gradient(to bottom right, #fed7aa, #fecaca)',
                title: '–°—á–∞—Å—Ç–ª–∏–≤—ã–π –†—ã–∂–∏–∫',
                message: '–ü—Ä–∏–≤–µ—Ç-–ø—Ä–∏–≤–µ—Ç! –†—ã–∂–∏–∫ –Ω–∞ —Å–≤—è–∑–∏! üß°\n\n–ì–æ–≤–æ—Ä—è—Ç, —Ä—ã–∂–∏–µ –∫–æ—Ç—ã –ø—Ä–∏–Ω–æ—Å—è—Ç —É–¥–∞—á—É. –ê —è –ø—Ä–∏–Ω—ë—Å —Ç–µ–±–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ —É–¥–∞—á—É - —è –ø—Ä–∏–Ω—ë—Å —Ü–µ–ª–æ–µ –º–æ—Ä–µ –ª—é–±–≤–∏ –∏ —Å—á–∞—Å—Ç—å—è!\n\n–ö–∞–∂–¥—ã–π –¥–µ–Ω—å —Å —Ç–æ–±–æ–π - —ç—Ç–æ –º–∞–ª–µ–Ω—å–∫–æ–µ —á—É–¥–æ. –î–∞–∂–µ –ø—Ä–æ—Å—Ç—ã–µ –º–æ–º–µ–Ω—Ç—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –æ—Å–æ–±–µ–Ω–Ω—ã–º–∏, –∫–æ–≥–¥–∞ —Ç—ã —Ä—è–¥–æ–º.\n\n–¢—ã - –º–æ–π –≥–ª–∞–≤–Ω—ã–π –ø—Ä–∏–∑ –≤ –∂–∏–∑–Ω–∏! ‚ú®'
            },
            {
                id: 5,
                catName: '–î—ã–º–∫–∞',
                catEmoji: 'üòπ',
                bgGradient: 'linear-gradient(to bottom right, #e9d5ff, #fbcfe8)',
                title: '–ó–∞–≥–∞–¥–æ—á–Ω–∞—è –î—ã–º–∫–∞',
                message: '–ú—É—Ä-—Ä-—Ä! –î—ã–º–∫–∞ –∑–¥–µ—Å—å! üåô\n\n–Ø —Å–µ—Ä–µ–Ω—å–∫–∞—è –∏ –∑–∞–≥–∞–¥–æ—á–Ω–∞—è, –∫–∞–∫ —Å—É–º–µ—Ä–∫–∏. –ù–æ –Ω–∏—á–µ–≥–æ –∑–∞–≥–∞–¥–æ—á–Ω–æ–≥–æ –≤ –º–æ–∏—Ö —á—É–≤—Å—Ç–≤–∞—Ö –Ω–µ—Ç - —è –ø—Ä–æ—Å—Ç–æ –æ–±–æ–∂–∞—é, –∫–æ–≥–¥–∞ —Ç—ã —Ä—è–¥–æ–º!\n\n–î–∞–∂–µ –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ —è —á—É–≤—Å—Ç–≤—É—é —Ç–≤–æ—ë —Ç–µ–ø–ª–æ. –¢–≤–æ—è —ç–Ω–µ—Ä–≥–∏—è –∏ –ª—é–±–æ–≤—å –¥–æ—Å—Ç–∏–≥–∞—é—Ç –º–µ–Ω—è, –≥–¥–µ –±—ã —è –Ω–∏ –±—ã–ª.\n\n–¢—ã –æ—Å–≤–µ—â–∞–µ—à—å –º–æ—é –∂–∏–∑–Ω—å! üíú'
            },
            {
                id: 6,
                catName: '–ß–µ—Ä–Ω—ã—à',
                catEmoji: 'üòº',
                bgGradient: 'linear-gradient(to bottom right, #e5e7eb, #e9d5ff)',
                title: '–ú—É–¥—Ä—ã–π –ß–µ—Ä–Ω—ã—à',
                message: '–ú—è—É-–º—è—É! –ß–µ—Ä–Ω—ã—à –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç! üñ§\n\n–ì–æ–≤–æ—Ä—è—Ç, —á—ë—Ä–Ω—ã–µ –∫–æ—Ç—ã –ø—Ä–∏–Ω–æ—Å—è—Ç –Ω–µ—É–¥–∞—á—É. –ï—Ä—É–Ω–¥–∞! –Ø –ø—Ä–∏–Ω—ë—Å —Ç–µ–±–µ —É–¥–∞—á—É –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å —Ç–∞–∫–æ–≥–æ –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞!\n\n–¢–≤–æ—è –¥–æ–±—Ä–æ—Ç–∞, —É–º –∏ —Å–∏–ª–∞ –¥—É—Ö–∞ –≤–æ—Å—Ö–∏—â–∞—é—Ç –º–µ–Ω—è. –¢—ã –æ—Å–≤–µ—â–∞–µ—à—å –¥–∞–∂–µ —Å–∞–º—ã–µ —Ç—ë–º–Ω—ã–µ –¥–Ω–∏ —Å–≤–æ–∏–º –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ–º.\n\n–¢—ã - –Ω–∞—Å—Ç–æ—è—â–µ–µ —Å–æ–∫—Ä–æ–≤–∏—â–µ! ‚≠ê'
            },
            {
                id: 7,
                catName: '–í–∞—Å—å–∫–∞',
                catEmoji: 'üòæ',
                bgGradient: 'linear-gradient(to bottom right, #d1fae5, #a7f3d0)',
                title: '–°–µ—Ä—å—ë–∑–Ω—ã–π –í–∞—Å—å–∫–∞',
                message: '–ú—É—Ä! –í–∞—Å—å–∫–∞ –Ω–∞ –º–µ—Å—Ç–µ! üíö\n\n–Ø –Ω–µ–º–Ω–æ–≥–æ —Å–µ—Ä—å—ë–∑–Ω—ã–π, –Ω–æ —ç—Ç–æ –ø–æ—Ç–æ–º—É —á—Ç–æ —è –æ—á–µ–Ω—å —Å–µ—Ä—å—ë–∑–Ω–æ –æ—Ç–Ω–æ—à—É—Å—å –∫ –ª—é–±–≤–∏! –ò —Å–µ—Ä—å—ë–∑–Ω–æ –≥–æ–≤–æ—Ä—é - —Ç—ã —Å–∞–º–∞—è –æ—Å–æ–±–µ–Ω–Ω–∞—è!\n\n–¢–≤–æ—è —Å–∏–ª–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞, —Ç–≤–æ—è —á–µ—Å—Ç–Ω–æ—Å—Ç—å, —Ç–≤–æ—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –±—ã—Ç—å —Å–æ–±–æ–π - –≤—Å—ë —ç—Ç–æ –¥–µ–ª–∞–µ—Ç —Ç–µ–±—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–π.\n\n–ì–æ—Ä–∂—É—Å—å —Ç–æ–±–æ–π –∫–∞–∂–¥—ã–π –¥–µ–Ω—å!'
            },
            {
                id: 8,
                catName: '–ú–∞—Å–∏–∫',
                catEmoji: 'üôÄ',
                bgGradient: 'linear-gradient(to bottom right, #fef9c3, #d9f99d)',
                title: '–£–¥–∏–≤–ª—ë–Ω–Ω—ã–π –ú–∞—Å–∏–∫',
                message: '–û–π-–æ–π-–æ–π! –ú–∞—Å–∏–∫ —Ç—É—Ç! üíõ\n\n–Ø —Ç–∞–∫–æ–π —É–¥–∏–≤–ª—ë–Ω–Ω—ã–π, –ø–æ—Ç–æ–º—É —á—Ç–æ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å —É–¥–∏–≤–ª—è—é—Å—å, –∫–∞–∫ –º–æ–∂–Ω–æ –±—ã—Ç—å —Ç–∞–∫–æ–π –ø–æ—Ç—Ä—è—Å–∞—é—â–µ–π!\n\n–¢—ã —É–º–Ω–∞—è, –∫—Ä–∞—Å–∏–≤–∞—è, —Å–º–µ—à–Ω–∞—è, –¥–æ–±—Ä–∞—è... –°–ø–∏—Å–æ–∫ –º–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ! –¢—ã - –Ω–∞—Å—Ç–æ—è—â–µ–µ —á—É–¥–æ –ø—Ä–∏—Ä–æ–¥—ã!\n\n–ö–∞–∂–¥—ã–π –¥–µ–Ω—å —Å —Ç–æ–±–æ–π –ø—Ä–∏–Ω–æ—Å–∏—Ç –Ω–æ–≤—ã–µ —Å—é—Ä–ø—Ä–∏–∑—ã! ‚ú®'
            },
            {
                id: 9,
                catName: '–ë–∞—Ä—Å–∏–∫',
                catEmoji: 'üòø',
                bgGradient: 'linear-gradient(to bottom right, #fecaca, #fbcfe8)',
                title: '–°–∫—É—á–∞—é—â–∏–π –ë–∞—Ä—Å–∏–∫',
                message: '–ú—è—É... –ë–∞—Ä—Å–∏–∫ –≥—Ä—É—Å—Ç–∏—Ç –±–µ–∑ —Ç–µ–±—è! üß°\n\n–ù–æ –∑–Ω–∞–µ—à—å —á—Ç–æ? –ö–∞–∂–¥–∞—è –º–∏–Ω—É—Ç–∞ —Ä–∞–∑–ª—É–∫–∏ –¥–µ–ª–∞–µ—Ç –Ω–∞—à—É –≤—Å—Ç—Ä–µ—á—É –µ—â—ë —Å–ª–∞—â–µ! –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ - —ç—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–æ, –∞ —Ç–æ, —á—Ç–æ –º—ã —á—É–≤—Å—Ç–≤—É–µ–º - –Ω–∞–≤—Å–µ–≥–¥–∞.\n\n–°–∫–æ—Ä–æ –º—ã –±—É–¥–µ–º –≤–º–µ—Å—Ç–µ, –∏ —è –±—É–¥—É –º—É—Ä—á–∞—Ç—å –æ—Ç —Å—á–∞—Å—Ç—å—è! –°—á–∏—Ç–∞—é –¥–Ω–∏ –¥–æ –Ω–∞—à–µ–π –≤—Å—Ç—Ä–µ—á–∏.\n\n–î–æ —Å–∫–æ—Ä–æ–π –≤—Å—Ç—Ä–µ—á–∏, –ª—é–±–∏–º–∞—è! üòä'
            },
            {
                id: 10,
                catName: '–ü–µ—Ä—Å–∏–∫',
                catEmoji: 'üòª',
                bgGradient: 'linear-gradient(to bottom right, #fce7f3, #fecdd3)',
                title: '–ù–µ–∂–Ω—ã–π –ü–µ—Ä—Å–∏–∫',
                message: '–ú—É—Ä-–º—É—Ä-–º—É—Ä! –ü–µ—Ä—Å–∏–∫ –æ–±–Ω–∏–º–∞–µ—Ç —Ç–µ–±—è! üçë\n\n–¢—ã —Ç–∞–∫–∞—è —Å–ª–∞–¥–∫–∞—è –∏ –Ω–µ–∂–Ω–∞—è, –ø—Ä—è–º –∫–∞–∫ –ø–µ—Ä—Å–∏–∫! –¢–≤–æ—è –∑–∞–±–æ—Ç–∞, —Ç–≤–æ—è —Ç–µ–ø–ª–æ—Ç–∞, —Ç–≤–æ—è –ª—é–±–æ–≤—å - —ç—Ç–æ —Ç–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –æ—Å–æ–±–µ–Ω–Ω—ã–º.\n\n–¢–≤–æ—è –Ω–µ–∂–Ω–æ—Å—Ç—å –Ω–µ –æ–∑–Ω–∞—á–∞–µ—Ç —Å–ª–∞–±–æ—Å—Ç—å - —ç—Ç–æ —Ç–≤–æ—è —Å–∏–ª–∞. –¢—ã —É–º–µ–µ—à—å –ª—é–±–∏—Ç—å –∏—Å–∫—Ä–µ–Ω–Ω–µ –∏ –≥–ª—É–±–æ–∫–æ.\n\n–õ—é–±–ª—é —Ç–µ–±—è –¥–æ –ª—É–Ω—ã –∏ –æ–±—Ä–∞—Ç–Ω–æ! üíóüåô'
            },
            {
                id: 11,
                catName: '–¶–∞—Ä–∞–ø–∫–∞',
                catEmoji: 'üò∫',
                bgGradient: 'linear-gradient(to bottom right, #e9d5ff, #fae8ff)',
                title: '–†–∞–¥–æ—Å—Ç–Ω–∞—è –¶–∞—Ä–∞–ø–∫–∞',
                message: '–ú–Ø–Ø–Ø–£! –¶–∞—Ä–∞–ø–∫–∞ –≤–∑—Ä—ã–≤–∞–µ—Ç –æ—Ç —Ä–∞–¥–æ—Å—Ç–∏! üíú\n\n–¢—ã –¥–æ—à–ª–∞ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã! –¢—ã –ø—Ä–æ—á–∏—Ç–∞–ª–∞ –≤—Å–µ –Ω–∞—à–∏ –ø–æ—Å–ª–∞–Ω–∏—è! –≠—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ç—ã —Ç–µ—Ä–ø–µ–ª–∏–≤–∞ –∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–∞.\n\n–í—Å–µ –∫–æ—Ç–∏–∫–∏ –ø–µ—Ä–µ–¥–∞—é—Ç —Ç–µ–±–µ –ø—Ä–∏–≤–µ—Ç –∏ –≥–æ–≤–æ—Ä—è—Ç: —Ç—ã –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–∞—è! –¢—ã –æ—Å–æ–±–µ–Ω–Ω–∞—è! –¢—ã –ª—é–±–∏–º–∞—è!\n\n–° –î–Ω—ë–º –°–≤—è—Ç–æ–≥–æ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞! üéâ‚ú®'
            },
            {
                id: 12,
                type: 'ending',
                bgGradient: 'linear-gradient(to bottom right, #fbcfe8, #ddd6fe, #bfdbfe)',
                title: '–ö–æ–Ω–µ—Ü? –ù–µ—Ç!',
                subtitle: '–≠—Ç–æ —Ç–æ–ª—å–∫–æ –Ω–∞—á–∞–ª–æ!',
                message: '–≠—Ç–∞ –∫–Ω–∏–≥–∞ –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å, –Ω–æ –Ω–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è!\n\n–ö–∞–∂–¥—ã–π –Ω–æ–≤—ã–π –¥–µ–Ω—å - —ç—Ç–æ –Ω–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤ –∫–Ω–∏–≥–µ –Ω–∞—à–µ–π –ª—é–±–≤–∏. –ò —è –Ω–µ –º–æ–≥—É –¥–æ–∂–¥–∞—Ç—å—Å—è, –∫–æ–≥–¥–∞ –º—ã –Ω–∞–ø–∏—à–µ–º —Å–ª–µ–¥—É—é—â–∏–µ –≥–ª–∞–≤—ã –≤–º–µ—Å—Ç–µ.\n\n–¢—ã - –º–æ—è –ª—é–±–∏–º–∞—è —Å–∫–∞–∑–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è.\n\n–° –ª—é–±–æ–≤—å—é –Ω–∞–≤—Å–µ–≥–¥–∞,\n[–¢–≤–æ—ë –∏–º—è] üíï\n\nP.S. –ú–æ–∂–µ—à—å –ø–µ—Ä–µ–ª–∏—Å—Ç—ã–≤–∞—Ç—å –∫–Ω–∏–≥—É —Å–Ω–æ–≤–∞ –∏ —Å–Ω–æ–≤–∞! üìñ'
            }
        ];

        let currentPage = 0;
        let isFlipping = false;
        let touchStartX = null;
        let touchEndX = null;

        const container = document.getElementById('container');
        const book = document.getElementById('book');
        const pageContent = document.getElementById('pageContent');
        const pageCounter = document.getElementById('pageCounter');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const progressDots = document.getElementById('progressDots');
        const hint = document.getElementById('hint');

        // Initialize floating elements
        function initFloatingElements() {
            for (let i = 0; i < 15; i++) {
                const elem = document.createElement('div');
                elem.className = 'float-element';
                const types = ['üå∏', 'üíÆ', 'üå∫', '‚ú®', 'üí´', '‚≠ê'];
                elem.textContent = types[Math.floor(Math.random() * types.length)];
                elem.style.left = Math.random() * 100 + '%';
                elem.style.animationDelay = Math.random() * 5 + 's';
                elem.style.animationDuration = (8 + Math.random() * 7) + 's';
                container.appendChild(elem);
            }
        }

        // Initialize progress dots
        function initProgressDots() {
            progressDots.innerHTML = '';
            pages.forEach((_, index) => {
                const dot = document.createElement('div');
                dot.className = 'dot';
                if (index === currentPage) dot.classList.add('active');
                progressDots.appendChild(dot);
            });
        }

        // Update progress dots
        function updateProgressDots() {
            const dots = progressDots.querySelectorAll('.dot');
            dots.forEach((dot, index) => {
                if (index === currentPage) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        // Render page content
        function renderPage() {
            const page = pages[currentPage];
            pageContent.style.background = page.bgGradient;
            
            if (page.type === 'cover') {
                pageContent.innerHTML = `
                    <div class="cover-page">
                        <div class="cover-emoji floating cat-hover">${page.emoji}</div>
                        <h1 class="cover-title gradient-text">${page.title}</h1>
                        <h2 class="cover-subtitle gradient-text">${page.subtitle}</h2>
                        <div class="cover-decoration">${page.decoration}</div>
                        <p class="cover-text">–î–ª—è –º–æ–µ–π —Å–∞–º–æ–π –ª—é–±–∏–º–æ–π –¥–µ–≤—É—à–∫–∏ –Ω–∞ —Å–≤–µ—Ç–µ üíï</p>
                        <button class="open-button pulse-soft" onclick="nextPage()">
                            –û—Ç–∫—Ä—ã—Ç—å –∫–Ω–∏–≥—É
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>
                    </div>
                `;
            } else if (page.type === 'ending') {
                pageContent.innerHTML = `
                    <div class="ending-page">
                        <div class="ending-emoji">üìñ‚ú®üíï</div>
                        <h1 class="ending-title gradient-text">${page.title}</h1>
                        <h2 class="ending-subtitle">${page.subtitle}</h2>
                        <div class="ending-message">
                            <p class="ending-text">${page.message}</p>
                        </div>
                        <div class="ending-cats">
                            <span class="floating cat-hover" style="animation-delay: 0s">üò∫</span>
                            <span class="floating cat-hover" style="animation-delay: 0.2s">üòª</span>
                            <span class="floating cat-hover" style="animation-delay: 0.4s">üòΩ</span>
                            <span class="floating cat-hover" style="animation-delay: 0.6s">üò∏</span>
                            <span class="floating cat-hover" style="animation-delay: 0.8s">üòπ</span>
                        </div>
                    </div>
                `;
            } else {
                pageContent.innerHTML = `
                    <div class="cat-page">
                        <div style="flex: 1;">
                            <div class="cat-header">
                                <div class="cat-emoji floating cat-hover">${page.catEmoji}</div>
                                <h2 class="cat-title">${page.title}</h2>
                                <div class="cat-subtitle">
                                    <svg class="sparkle-icon sparkle" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M12 2v20M2 12h20M6 6l12 12M6 18L18 6"/>
                                    </svg>
                                    <span class="cat-subtitle-text">–æ—Ç ${page.catName}</span>
                                    <svg class="sparkle-icon sparkle" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M12 2v20M2 12h20M6 6l12 12M6 18L18 6"/>
                                    </svg>
                                </div>
                            </div>
                            <div class="message-box">
                                <p class="message-text">${page.message}</p>
                            </div>
                        </div>
                        <div class="paw-prints">
                            üêæ üêæ üêæ
                        </div>
                    </div>
                `;
            }

            pageCounter.textContent = `–°—Ç—Ä–∞–Ω–∏—Ü–∞ ${currentPage + 1} –∏–∑ ${pages.length}`;
            prevBtn.disabled = currentPage === 0;
            nextBtn.disabled = currentPage === pages.length - 1;

            // Show/hide hint
            hint.style.display = currentPage === 0 ? 'block' : 'none';
        }

        // Create flying hearts
        function createFlyingHearts() {
            for (let i = 0; i < 10; i++) {
                const heart = document.createElement('div');
                heart.className = 'flying-heart';
                heart.textContent = 'üíï';
                heart.style.left = Math.random() * 100 + '%';
                heart.style.animationDelay = Math.random() * 0.5 + 's';
                container.appendChild(heart);

                setTimeout(() => heart.remove(), 2000);
            }
        }

        // Create confetti
        function createConfetti() {
            const colors = ['#FFB3D9', '#FFE5B4', '#E0F4FF', '#FFD4A3', '#D4D4FF'];
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = Math.random() * 0.5 + 's';
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                container.appendChild(confetti);

                setTimeout(() => confetti.remove(), 3000);
            }
        }

        // Navigate to next page
        function nextPage() {
            if (currentPage < pages.length - 1 && !isFlipping) {
                isFlipping = true;
                book.classList.add('flipping-next');

                createFlyingHearts();

                setTimeout(() => {
                    currentPage++;
                    renderPage();
                    updateProgressDots();
                    book.classList.remove('flipping-next');
                    isFlipping = false;

                    if (currentPage === 0 || currentPage === pages.length - 1) {
                        createConfetti();
                    }
                }, 600);
            }
        }

        // Navigate to previous page
        function prevPage() {
            if (currentPage > 0 && !isFlipping) {
                isFlipping = true;
                book.classList.add('flipping-prev');

                createFlyingHearts();

                setTimeout(() => {
                    currentPage--;
                    renderPage();
                    updateProgressDots();
                    book.classList.remove('flipping-prev');
                    isFlipping = false;
                }, 600);
            }
        }

        // Touch handlers
        function handleTouchStart(e) {
            touchStartX = e.touches[0].clientX;
            touchEndX = null;
        }

        function handleTouchMove(e) {
            touchEndX = e.touches[0].clientX;
        }

        function handleTouchEnd() {
            if (!touchStartX || !touchEndX) return;

            const distance = touchStartX - touchEndX;
            const minSwipeDistance = 50;

            if (distance > minSwipeDistance) {
                nextPage();
            } else if (distance < -minSwipeDistance) {
                prevPage();
            }
        }

        // Keyboard handlers
        function handleKeyPress(e) {
            if (e.key === 'ArrowRight') {
                nextPage();
            } else if (e.key === 'ArrowLeft') {
                prevPage();
            }
        }

        // Event listeners
        prevBtn.addEventListener('click', prevPage);
        nextBtn.addEventListener('click', nextPage);
        book.addEventListener('touchstart', handleTouchStart);
        book.addEventListener('touchmove', handleTouchMove);
        book.addEventListener('touchend', handleTouchEnd);
        document.addEventListener('keydown', handleKeyPress);

        // Initialize
        initFloatingElements();
        initProgressDots();
        renderPage();
    </script>
</body>
</html>
